
query AllControls($serviceTag :String!){
  allControls(serviceTag: $serviceTag){
       id
       serviceTag
       tag
       name
        relays {
              id
             index
             isPeriodic
             state
             minute
             hour
             name
             serviceTag
             controlTag
           }


     }
}



mutation AddControl($serviceTag : String!,$tag:String! $name:String!){
  addControl(serviceTag : $serviceTag,tag:$tag,name:$name){
  id serviceTag tag name
   relays {
                id
               index
               isPeriodic
               state
               minute
               hour
               name
               serviceTag
               controlTag
             }

  }
}

mutation DeleteControl($tag:String!){
  deleteControl(tag:$tag){
  id serviceTag tag name
  }
}
mutation EditControl($tag:String!,$name:String!){
  editControl(tag:$tag,name:$name){
  id serviceTag tag name
   relays {
                id
               index
               isPeriodic
               state
               minute
               hour
               name
               serviceTag
               controlTag
             }

  }
}

mutation ConfigTimeControl($serviceTag:String!,$controlTag:String!,
$index:Int!,$isPeriodic:Boolean!,$hour:String!,$minute:String!,$state:String!) {
  configTimeControl(
    serviceTag: $serviceTag
    controlTag: $controlTag
    index: $index
    isPeriodic: $isPeriodic
    hour: $hour
    minute: $minute
    state:$state
  ) {
    id
    serviceTag
    name
    tag
    relays {
      id
      index
      isPeriodic
      controlTag
      serviceTag
      hour
      minute
      state
      name
    }
  }
}

mutation SetStateRelay($tag:String!,$state:String!,$index:Int!) {
  setStateRelay(tag: $tag, state: $state, index: $index) {
    id
    serviceTag
    name
    tag
    relays {
      id
      index
      isPeriodic
      controlTag
      serviceTag
      hour
      minute
      state
      name
    }
  }
}


